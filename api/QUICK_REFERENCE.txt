â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  AEROPON FASTAPI - QUICK REFERENCE              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ğŸš€ START SERVER
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  cd api/
  ./start_server.sh
  
  Server: http://localhost:8000
  Docs:   http://localhost:8000/docs

ğŸ“¡ ENDPOINTS
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  POST   /chat       â†’ Chat dengan hybrid bot
  POST   /diagnose   â†’ Diagnostik sensor langsung
  GET    /health     â†’ Health check
  GET    /stats      â†’ System statistics
  GET    /docs       â†’ Interactive API docs

ğŸ’¬ CHAT EXAMPLES
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  # Knowledge question (RAG)
  curl -X POST http://localhost:8000/chat \
    -H "Content-Type: application/json" \
    -d '{"message": "apa kelebihan hidroponik NFT?", "language": "id"}'

  # Sensor diagnostics (Rule-based)
  curl -X POST http://localhost:8000/chat \
    -H "Content-Type: application/json" \
    -d '{"message": "pH saya 4.5, TDS 1500, apakah normal?", "language": "id"}'

  # Hybrid (Sensor + How to fix)
  curl -X POST http://localhost:8000/chat \
    -H "Content-Type: application/json" \
    -d '{"message": "pH saya 4.2, bagaimana cara memperbaikinya?", "language": "id"}'

ğŸ”¬ DIAGNOSE EXAMPLE
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  curl -X POST http://localhost:8000/diagnose \
    -H "Content-Type: application/json" \
    -d '{
      "ph": 6.5,
      "tds": 1200,
      "temperature": 25,
      "humidity": 65,
      "growth_stage": "vegetative"
    }'

ğŸ¥ HEALTH CHECK
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  curl http://localhost:8000/health

ğŸ“Š STATS
â”€â”€â”€â”€â”€â”€â”€â”€
  curl http://localhost:8000/stats

ğŸ PYTHON CLIENT
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  import requests
  
  # Chat
  response = requests.post(
      "http://localhost:8000/chat",
      json={"message": "pH saya 4.5, bagaimana?", "language": "id"}
  )
  print(response.json()['answer'])
  
  # Diagnose
  response = requests.post(
      "http://localhost:8000/diagnose",
      json={"ph": 6.5, "tds": 1200, "temperature": 25}
  )
  print(response.json()['summary'])

ğŸ§ª TEST CLIENT
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  cd api/
  python test_client.py

ğŸ“š REQUEST MODELS
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  ChatRequest:
    - message: str (required)
    - language: "id" | "en" (default: "id")
    - include_images: bool (default: true)
    - session_id: str (optional)
  
  SensorData:
    - ph: float (optional)
    - tds: float (optional)
    - temperature: float (optional)
    - humidity: float (optional)
    - growth_stage: "seedling" | "vegetative" | "fruiting" (optional)

ğŸ“¦ RESPONSE MODELS
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  ChatResponse:
    - success: bool
    - answer: str
    - intent: "rule_based" | "rag" | "hybrid"
    - confidence: float (0-1)
    - has_sensor_data: bool
    - sensor_data: object | null
    - sources: array[string] | null
    - images: array[string]
    - timestamp: string (ISO 8601)

âš™ï¸  REQUIREMENTS
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  Before starting:
  âœ“ Qdrant running on localhost:6333
  âœ“ Ollama running with qwen3:8b model
  âœ“ Python dependencies installed (fastapi, uvicorn)

ğŸ”§ TROUBLESHOOTING
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  Chatbot not initialized:
    â†’ Check Qdrant: docker ps | grep qdrant
    â†’ Check Ollama: ollama list
  
  Port already in use:
    â†’ Change port: uvicorn main:app --port 8001
  
  Import errors:
    â†’ pip install -r requirements.txt

ğŸ“– DOCUMENTATION
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  Full docs:     api/README.md
  Summary:       api/IMPLEMENTATION_SUMMARY.md
  Examples:      api/examples.sh
  Test client:   api/test_client.py

ğŸ¯ QUICK TIPS
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  â€¢ Use /docs for interactive testing
  â€¢ Check /health before production
  â€¢ Use session_id for conversation tracking
  â€¢ Set include_images=false for faster responses
  â€¢ Use /diagnose for pure sensor analysis

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Ready to use! Start with: cd api/ && ./start_server.sh        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
